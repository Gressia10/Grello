<html lang="en">

  <head>
        <script src="./js/jquery-3.3.1.min.js"></script>
		<script src="./js/bootstrap.min.js"> </script>
		<link rel= "stylesheet" href="./css/bootstrap.min.css"></link>
		<meta charset= "utf-8">
		<meta name= "viewport" content="width=device-width, initial-scale=1">
		<link rel="icon" href="../img/profileGrello.ico">
        <style>
            .img{
                position: absolute;
            }
        </style>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    

    <title>Home Grello</title>

    <!-- Bootstrap core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    

    <!-- Plugin CSS -->
    <link href="../vendor/magnific-popup/magnific-popup.css" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="../css/freelancer.min.css" rel="stylesheet">

  </head>

  <body id="page-top">      
            <!-- Navigation -->
            <nav class="navbar navbar-expand-lg bg-secondary fixed-top text-uppercase" id="mainNav">
              <div class="container">
                <a class="navbar-brand js-scroll-trigger" href="#page-top"><img  src ="../img/logo.png" height="7%" width="40%"  id="img"></a>
                <button class="navbar-toggler navbar-toggler-right text-uppercase bg-primary text-white rounded" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                  Menu
                  <i class="fa fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                  <ul class="navbar-nav ml-auto">
                    <li class="nav-item mx-0 mx-lg-1">
                      <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#Tableros">Tableros</a>
                    </li>
                    <li class="nav-item mx-0 mx-lg-1">
                      <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#Home">Perfil</a>
                    </li>
                    <li class="nav-item mx-0 mx-lg-1">
                      <input type="button" value="Cerrar Sesion" class="bg-secondary btn btn-basic py-6 px-0 px-lg-3 rounded js-scroll-trigger" style="color: white; font-size: 20px" onclick="cerrar()">
                    </li>
                  </ul>
                </div>
              </div>
            </nav>
        
            <!-- Header -->
            <header class="masthead bg-primary text-white text-center">
              <div class="container">
                <img class="img-fluid mb-5 d-block mx-auto" src="../img/profileGrello.png " height="20%" width="30%" alt="">
                <h1 class="text-uppercase mb-0">Grello</h1>
                <hr class="star-light">
                <h2 class="font-weight-light mb-0">Organiza tu vida - Crea tableros</h2>
              </div>
            </header>
        
            <!-- Portfolio Grid Section boards-->
            <section class="portfolio" id="BoardSection">
              <div class="container" id="Tableros">
                <h2 class="text-center text-uppercase text-secondary mb-0">Tableros</h2>
                <hr class="star-dark mb-5">
 			<div class="row content">
				<div class="col-md-8">
					<div class="card w-40" style="width: 15rem; margin-top:50px;">
						<div class="card-header text-center">  <button type="button" onclick="" class="btn btn-info add-new" style="background-color: #1b9891;" data-toggle="modal" data-target="#create"><img src="../img/plus.png" style="width:30px; hight:30px;">Agregar nuevo tablero</button>
						<div class="card-body"></div><br>
						</div>
					</div>	
				</div>
			<div id="create" class="modal fade">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<form>
							<div class="modal-header">						
								<h4 class="modal-title"><center>Crear tablero</center></h4>
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
							</div>
							<div class="modal-body">					
								<div class="form-group">
									<label>Nombre</label>
									<input type="text" class="form-control"  id="cardName" required="required" placeholder="Enter name">
								</div>				
							</div>
							<div class="modal-footer">
								<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
								<input type="button" id="addBoard" class="btn btn-success add-new" value="Create">
							</div>
						</form>
					</div>
				</div>
			</div>
			</div>
              </div>
            </section>
        
            <!-- About Section --> <!--Futuro Home -->
            <!-- <section class="bg-primary text-white mb-0" id="Home">
              <div class="container">
                <h2 class="text-center text-uppercase text-white">Home</h2>
                <hr class="star-light mb-5">
                <div class="row">
                  <div class="col-lg-4 ml-auto">
                    <p class="lead">Freelancer is a free bootstrap theme created by Start Bootstrap. The download includes the complete source files including HTML, CSS, and JavaScript as well as optional LESS stylesheets for easy customization.</p>
                  </div>
                  <div class="col-lg-4 mr-auto">
                    <p class="lead">Whether you're a student looking to showcase your work, a professional looking to attract clients, or a graphic artist looking to share your projects, this template is the perfect starting point!</p>
                  </div>
                </div>
                <div class="text-center mt-4">
                  <a class="btn btn-xl btn-outline-light" href="#Tableros">
                    Create a board now!
                  </a>
                </div>
              </div>
            </section>
			-->
			
            <!-- Portfolio Modal 6 -->
            <div class="portfolio-modal mfp-hide" id="portfolio-modal-6">
              <div class="portfolio-modal-dialog bg-white">
                <a class="close-button d-none d-md-block portfolio-modal-dismiss" href="#">
                  <i class="fa fa-3x fa-times"></i>
                </a>
                <div class="container text-center">
                  <div class="row">
                    <div class="col-lg-8 mx-auto">
                      <h2 class="text-secondary text-uppercase mb-0">Project Name</h2>
                      <hr class="star-dark mb-5">
                      <img class="img-fluid mb-5" src="../img/portfolio/submarine.png" alt="">
                      <p class="mb-5">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia neque assumenda ipsam nihil, molestias magnam, recusandae quos quis inventore quisquam velit asperiores, vitae? Reprehenderit soluta, eos quod consequuntur itaque. Nam.</p>
                      <a class="btn btn-primary btn-lg rounded-pill portfolio-modal-dismiss" href="#">
                        <i class="fa fa-close"></i>
                        Close Project</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        
            <!-- Bootstrap core JavaScript -->
            <script src="../vendor/jquery/jquery.min.js"></script>
            <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        
            <!-- Plugin JavaScript -->
            <script src="../vendor/jquery-easing/jquery.easing.min.js"></script>
            <script src="../vendor/magnific-popup/jquery.magnific-popup.min.js"></script>
        
            <!-- Contact Form JavaScript -->
            <script src="../js/jqBootstrapValidation.js"></script>
            <script src="../js/contact_me.js"></script>
        
            <!-- Custom scripts for this template -->
            <script src="../js/freelancer.min.js"></script>
			<script>
				$("#addBoard").on('click', function(e){
					enviarBoard();
				});
				
				function enviarBoard(){
					var data = {};
					data["titulo"] = $("#cardName").val(),
						
						var misCabeceras = new Headers();

						var miInit = { method: 'POST',
									   headers: misCabeceras,
									   mode: 'cors',
									   data: data;
									   cache: 'default' };

						fetch('url del servlet',miInit)
						.then(function(response) {
							location.reload();
						})
						
				}
				
				class Board {
					
					constructor(t){
						this.titulo = t;
						
						this.html = $.parseHTML(`<div class="row content">
													<div class="card w-40" style="width: 15rem; margin-top:50px;">
														<div class="card-header text-center"> <button type="button" onclick="" class="btn btn-info" style="background-color: #1b9891;"><h1>`+t+`</h1></button></div>
														<div class="card-footer"><button type="button" onclick="borrarBoard()" class="btn btn-basic btn-sm"><img src="delete.png" style="width:25px; hight:25px;">Delete board</div>	
													</div>
												</div>`);						
						$("body").append(this.html);
					}
				}
				
				
					var misCabeceras = new Headers();
							var miInit = { method: 'GET',
										   headers: misCabeceras,
										   mode: 'cors',
										   cache: 'default' };

							fetch('url del servlet',miInit)
							.then(function(response) {
								for(var i=0; i<response.length; i++){
									new Board(response[i].titulo, response[i].descripcion);
								}
							})
							
				function borrarBoard(){
					var data = {};
					data["titulo"] = $("#cardName").val(),
						
						var misCabeceras = new Headers();

						var miInit = { method: 'DELETE',
									   headers: misCabeceras,
									   mode: 'cors',
									   data: data;
									   cache: 'default' };

						fetch('url del servlet',miInit)
						.then(function(response) {
							location.reload();
						})
						
				}
			</script>
          </body>
        
        </html>
